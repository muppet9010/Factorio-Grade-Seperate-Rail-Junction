--[[
    The shuttle train initially tries to go through the tunnel, but when it reaches the signal before the siding the stations switch so that it repathes and decides to not go through the tunnel after all.
    The loop train is there to test that the tunnel is properly cleared for the next crossing when a train already on the approach repathes away from the tunnel.
]]
local Test = {}

local blueprintString =
    "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"

Test.Start = function(TestManager, testName)
    TestManager.BuildBlueprintFromString(blueprintString, {x = 0, y = 150}, testName)
end

return Test
